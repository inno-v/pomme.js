(function(){function a(a,b,c){c=(c||0)-1;for(var d=a?a.length:0;++c<d;)if(a[c]===b)return c;return-1}function b(b,c){var d=typeof c;if(b=b.l,"boolean"==d||null==c)return b[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:s+c;return b=(b=b[d])&&b[e],"object"==d?b&&-1<a(b,c)?0:-1:b?0:-1}function c(a){var b=this.l,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:s+a,b=b[c]||(b[c]={});"object"==c?(b[d]||(b[d]=[])).push(a):b[d]=!0}}function d(a){return a.charCodeAt(0)}function e(a,b){var c=a.m,d=b.m;if(c!==d){if(c>d||"undefined"==typeof c)return 1;if(d>c||"undefined"==typeof d)return-1}return a.n-b.n}function f(a){var b=-1,d=a.length,e=a[0],f=a[0|d/2],g=a[d-1];if(e&&"object"==typeof e&&f&&"object"==typeof f&&g&&"object"==typeof g)return!1;for(e=i(),e["false"]=e["null"]=e["true"]=e.undefined=!1,f=i(),f.k=a,f.l=e,f.push=c;++b<d;)f.push(a[b]);return f}function g(a){return"\\"+V[a]}function h(){return p.pop()||[]}function i(){return q.pop()||{k:null,l:null,m:null,"false":!1,n:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,o:null}}function j(){}function k(a){a.length=0,p.length<u&&p.push(a)}function l(a){var b=a.l;b&&l(b),a.k=a.l=a.m=a.object=a.number=a.string=a.o=null,q.length<u&&q.push(a)}function m(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);var d=-1;c=c-b||0;for(var e=Array(0>c?0:c);++d<c;)e[d]=a[b+d];return e}function n(c){function p(a){if(!a||wc.call(a)!=O)return!1;var b=a.valueOf,c="function"==typeof b&&(c=pc(b))&&pc(c);return c?a==c||pc(a)==c:mb(a)}function q(a,b,c){if(!a||!U[typeof a])return a;b=b&&"undefined"==typeof c?b:cb(b,c,3);for(var d=-1,e=U[typeof a]&&Qc(a),f=e?e.length:0;++d<f&&(c=e[d],!1!==b(a[c],c,a)););return a}function u(a,b,c){var d;if(!a||!U[typeof a])return a;b=b&&"undefined"==typeof c?b:cb(b,c,3);for(d in a)if(!1===b(a[d],d,a))break;return a}function V(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if((e=g[h])&&U[typeof e])for(var j=-1,k=U[typeof e]&&Qc(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f}function X(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=cb(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if((e=g[h])&&U[typeof e])for(var k=-1,l=U[typeof e]&&Qc(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f}function Y(a){var b,c=[];if(!a||!U[typeof a])return c;for(b in a)qc.call(a,b)&&c.push(b);return c}function $(a){return a&&"object"==typeof a&&!Pc(a)&&qc.call(a,"__wrapped__")?a:new ab(a)}function ab(a,b){this.__chain__=!!b,this.__wrapped__=a}function bb(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}if(!tb(a))return a;var g=wc.call(a);if(!R[g])return a;var i=Mc[g];switch(g){case K:case L:return new i(+a);case N:case Q:return new i(a);case P:return f=i(a.source,A.exec(a)),f.lastIndex=a.lastIndex,f}if(g=Pc(a),b){var j=!d;d||(d=h()),e||(e=h());for(var l=d.length;l--;)if(d[l]==a)return e[l];f=g?i(a.length):{}}else f=g?m(a):X({},a);return g&&(qc.call(a,"index")&&(f.index=a.index),qc.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(g?Bb:q)(a,function(a,g){f[g]=bb(a,b,c,d,e)}),j&&(k(d),k(e)),f):f}function cb(a,b,c){if("function"!=typeof a)return Vb;if("undefined"==typeof b)return a;var d=a.__bindData__||Nc.funcNames&&!a.name;if("undefined"==typeof d){var e=F&&oc.call(a);Nc.funcNames||!e||B.test(e)||(d=!0),(Nc.funcNames||!d)&&(d=!Nc.funcDecomp||F.test(e),Oc(a,d))}if(!0!==d&&d&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Sb(a,b)}function db(a,b,c,d){d=(d||0)-1;for(var e=a?a.length:0,f=[];++d<e;){var g=a[d];if(g&&"object"==typeof g&&"number"==typeof g.length&&(Pc(g)||ob(g))){b||(g=db(g,b,c));var h=-1,i=g.length,j=f.length;for(f.length+=i;++h<i;)f[j++]=g[h]}else c||f.push(g)}return f}function eb(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;if(a===a&&!(a&&U[typeof a]||b&&U[typeof b]))return!1;if(null==a||null==b)return a===b;var i=wc.call(a),j=wc.call(b);if(i==I&&(i=O),j==I&&(j=O),i!=j)return!1;switch(i){case K:case L:return+a==+b;case N:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case P:case Q:return a==fc(b)}if(j=i==J,!j){if(qc.call(a,"__wrapped__")||qc.call(b,"__wrapped__"))return eb(a.__wrapped__||a,b.__wrapped__||b,c,d,e,f);if(i!=O)return!1;var i=a.constructor,l=b.constructor;if(i!=l&&!(sb(i)&&i instanceof i&&sb(l)&&l instanceof l))return!1}for(l=!e,e||(e=h()),f||(f=h()),i=e.length;i--;)if(e[i]==a)return f[i]==b;var m=0,g=!0;if(e.push(a),f.push(b),j){if(i=a.length,m=b.length,g=m==a.length,!g&&!d)return g;for(;m--;)if(j=i,l=b[m],d)for(;j--&&!(g=eb(a[j],l,c,d,e,f)););else if(!(g=eb(a[m],l,c,d,e,f)))break;return g}return u(b,function(b,h,i){return qc.call(i,h)?(m++,g=qc.call(a,h)&&eb(a[h],b,c,d,e,f)):void 0}),g&&!d&&u(a,function(a,b,c){return qc.call(c,b)?g=-1<--m:void 0}),l&&(k(e),k(f)),g}function fb(a,b,c,d,e){(Pc(b)?Bb:q)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=Pc(b))||p(b))){for(i=d.length;i--;)if(g=d[i]==b){j=e[i];break}if(!g){var k;c&&(i=c(j,b),k="undefined"!=typeof i)&&(j=i),k||(j=h?Pc(j)?j:[]:p(j)?j:{}),d.push(b),e.push(j),k||fb(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function gb(c,d,e){var g=-1,i=lb(),j=c?c.length:0,m=[],n=!d&&j>=t&&i===a,o=e||n?h():m;if(n){var p=f(o);p?(i=b,o=p):(n=!1,o=e?o:(k(o),m))}for(;++g<j;){var p=c[g],q=e?e(p,g,c):p;(d?!g||o[o.length-1]!==q:0>i(o,q))&&((e||n)&&o.push(q),m.push(p))}return n?(k(o.k),l(o)):e&&k(o),m}function hb(a){return function(b,c,d){var e={};c=$.createCallback(c,d,3),d=-1;var f=b?b.length:0;if("number"==typeof f)for(;++d<f;){var g=b[d];a(e,g,c(g,d,b),b)}else q(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function ib(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,j=8&b,k=16&b,l=32&b,m=a;if(!h&&!sb(a))throw new gc;k&&!c.length&&(b&=-17,k=c=!1),l&&!d.length&&(b&=-33,l=d=!1);var n=a&&a.__bindData__;if(n)return!g||1&n[1]||(n[4]=e),!g&&1&n[1]&&(b|=8),!i||4&n[1]||(n[5]=f),k&&sc.apply(n[2]||(n[2]=[]),c),l&&sc.apply(n[3]||(n[3]=[]),d),n[1]|=b,ib.apply(null,n);if(!g||h||i||l||!(Nc.fastBind||zc&&k))p=function(){var n=arguments,o=g?e:this;return(i||k||l)&&(n=Jc.call(n),k&&xc.apply(n,c),l&&sc.apply(n,d),i&&n.length<f)?(b|=16,ib(a,j?b:-4&b,n,null,e,f)):(h&&(a=o[m]),this instanceof p?(o=jb(a.prototype),n=a.apply(o,n),tb(n)?n:o):a.apply(o,n))};else{if(k){var o=[e];sc.apply(o,c)}var p=k?zc.apply(a,o):zc.call(a,e)}return Oc(p,Jc.call(arguments)),p}function jb(a){return tb(a)?Ac(a):{}}function kb(a){return Rc[a]}function lb(){var b=(b=$.indexOf)===Mb?a:b;return b}function mb(a){var b,c;return a&&wc.call(a)==O&&(b=a.constructor,!sb(b)||b instanceof b)?(u(a,function(a,b){c=b}),"undefined"==typeof c||qc.call(a,c)):!1}function nb(a){return Sc[a]}function ob(a){return a&&"object"==typeof a&&"number"==typeof a.length&&wc.call(a)==I||!1}function pb(a,b,c){var d=Qc(a),e=d.length;for(b=cb(b,c,3);e--&&(c=d[e],!1!==b(a[c],c,a)););return a}function qb(a){var b=[];return u(a,function(a,c){sb(a)&&b.push(c)}),b.sort()}function rb(a){for(var b=-1,c=Qc(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function sb(a){return"function"==typeof a}function tb(a){return!(!a||!U[typeof a])}function ub(a){return"number"==typeof a||wc.call(a)==N}function vb(a){return"string"==typeof a||wc.call(a)==Q}function wb(a){for(var b=-1,c=Qc(a),d=c.length,e=Zb(d);++b<d;)e[b]=a[c[b]];return e}function xb(a,b,c){var d=-1,e=lb(),f=a?a.length:0,g=!1;return c=(0>c?Fc(0,f+c):c)||0,Pc(a)?g=-1<e(a,b,c):"number"==typeof f?g=-1<(vb(a)?a.indexOf(b,c):e(a,b,c)):q(a,function(a){return++d<c?void 0:!(g=a===b)}),g}function yb(a,b,c){var d=!0;b=$.createCallback(b,c,3),c=-1;var e=a?a.length:0;if("number"==typeof e)for(;++c<e&&(d=!!b(a[c],c,a)););else q(a,function(a,c,e){return d=!!b(a,c,e)});return d}function zb(a,b,c){var d=[];b=$.createCallback(b,c,3),c=-1;var e=a?a.length:0;if("number"==typeof e)for(;++c<e;){var f=a[c];b(f,c,a)&&d.push(f)}else q(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Ab(a,b,c){b=$.createCallback(b,c,3),c=-1;var d=a?a.length:0;if("number"!=typeof d){var e;return q(a,function(a,c,d){return b(a,c,d)?(e=a,!1):void 0}),e}for(;++c<d;){var f=a[c];if(b(f,c,a))return f}}function Bb(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:cb(b,c,3),"number"==typeof e)for(;++d<e&&!1!==b(a[d],d,a););else q(a,b);return a}function Cb(a,b,c){var d=a?a.length:0;if(b=b&&"undefined"==typeof c?b:cb(b,c,3),"number"==typeof d)for(;d--&&!1!==b(a[d],d,a););else{var e=Qc(a),d=e.length;q(a,function(a,c,f){return c=e?e[--d]:--d,b(f[c],c,f)})}return a}function Db(a,b,c){var d=-1,e=a?a.length:0;if(b=$.createCallback(b,c,3),"number"==typeof e)for(var f=Zb(e);++d<e;)f[d]=b(a[d],d,a);else f=[],q(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function Eb(a,b,c){var e=-1/0,f=e;if(!b&&Pc(a)){c=-1;for(var g=a.length;++c<g;){var h=a[c];h>f&&(f=h)}}else b=!b&&vb(a)?d:$.createCallback(b,c,3),Bb(a,function(a,c,d){c=b(a,c,d),c>e&&(e=c,f=a)});return f}function Fb(a,b){var c=-1,d=a?a.length:0;if("number"==typeof d)for(var e=Zb(d);++c<d;)e[c]=a[c][b];return e||Db(a,b)}function Gb(a,b,c,d){if(!a)return c;var e=3>arguments.length;b=cb(b,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else q(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function Hb(a,b,c,d){var e=3>arguments.length;return b=cb(b,d,4),Cb(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function Ib(a){var b=-1,c=a?a.length:0,d=Zb("number"==typeof c?c:0);return Bb(a,function(a){var c=Xb(++b);d[b]=d[c],d[c]=a}),d}function Jb(a,b,c){var d;b=$.createCallback(b,c,3),c=-1;var e=a?a.length:0;if("number"==typeof e)for(;++c<e&&!(d=b(a[c],c,a)););else q(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function Kb(c){var d=-1,e=lb(),g=c?c.length:0,h=db(arguments,!0,!0,1),i=[],j=g>=t&&e===a;if(j){var k=f(h);k?(e=b,h=k):j=!1}for(;++d<g;)k=c[d],0>e(h,k)&&i.push(k);return j&&l(h),i}function Lb(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=-1;for(b=$.createCallback(b,c,3);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[0]:o;return m(a,0,Gc(Fc(0,d),e))}function Mb(b,c,d){if("number"==typeof d){var e=b?b.length:0;d=0>d?Fc(0,e+d):d||0}else if(d)return d=Ob(b,c),b[d]===c?d:-1;return a(b,c,d)}function Nb(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=$.createCallback(b,c,3);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:Fc(0,b);return m(a,d)}function Ob(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?$.createCallback(c,d,1):Vb,b=c(b);f>e;)d=e+f>>>1,c(a[d])<b?e=d+1:f=d;return e}function Pb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(c=(d=c)&&d[b]===a?null:b,b=!1),null!=c&&(c=$.createCallback(c,d,3)),gb(a,b,c)}function Qb(){for(var a=1<arguments.length?arguments:arguments[0],b=-1,c=a?Eb(Fb(a,"length")):0,d=Zb(0>c?0:c);++b<c;)d[b]=Fb(a,b);return d}function Rb(a,b){for(var c=-1,d=a?a.length:0,e={};++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Sb(a,b){return 2<arguments.length?ib(a,17,Jc.call(arguments,2),null,b):ib(a,1,null,null,b)}function Tb(a,b,c){function d(){k&&mc(k),g=k=l=o,(p||n!==b)&&(m=rc(),h=a.apply(j,f))}function e(){var c=b-(rc()-i);c>0?k=uc(e,c):(g&&mc(g),c=l,g=k=l=o,c&&(m=rc(),h=a.apply(j,f)))}var f,g,h,i,j,k,l,m=0,n=!1,p=!0;if(!sb(a))throw new gc;if(b=Fc(0,b)||0,!0===c)var q=!0,p=!1;else tb(c)&&(q=c.leading,n="maxWait"in c&&(Fc(b,c.maxWait)||0),p="trailing"in c?c.trailing:p);return function(){if(f=arguments,i=rc(),j=this,l=p&&(k||!q),!1===n)var c=q&&!k;else{g||q||(m=i);var o=n-(i-m);o>0?g||(g=uc(d,o)):(g&&(g=mc(g)),m=i,h=a.apply(j,f))}return k||b===n||(k=uc(e,b)),c&&(h=a.apply(j,f)),h}}function Ub(a){if(!sb(a))throw new gc;var b=Jc.call(arguments,1);return uc(function(){a.apply(o,b)},1)}function Vb(a){return a}function Wb(a,b){var c=a,d=!b||sb(c);b||(c=ab,b=a,a=$),Bb(qb(b),function(e){var f=a[e]=b[e];d&&(c.prototype[e]=function(){var b=this.__wrapped__,d=[b];return sc.apply(d,arguments),d=f.apply(a,d),b&&"object"==typeof b&&b===d?this:(d=new c(d),d.__chain__=this.__chain__,d)})})}function Xb(a,b,c){var d=null==a,e=null==b;return null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,d=Ic(),c||a%1||b%1?Gc(a+d*(b-a+parseFloat("1e-"+((d+"").length-1))),b):a+nc(d*(b-a+1))}function Yb(){return this.__wrapped__}c=c?_.defaults(W.Object(),c,_.pick(W,H)):W;var Zb=c.Array,$b=c.Boolean,_b=c.Date,ac=c.Function,bc=c.Math,cc=c.Number,dc=c.Object,ec=c.RegExp,fc=c.String,gc=c.TypeError,hc=[],ic=dc.prototype,jc=c._,kc=ec("^"+fc(ic.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),lc=bc.ceil,mc=c.clearTimeout,nc=bc.floor,oc=ac.prototype.toString,pc=kc.test(pc=dc.getPrototypeOf)&&pc,qc=ic.hasOwnProperty,rc=kc.test(rc=_b.now)&&rc||function(){return+new _b},sc=hc.push,tc=c.setImmediate,uc=c.setTimeout,vc=hc.splice,wc=ic.toString,xc=hc.unshift,yc=function(){try{var a={},b=kc.test(b=dc.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),zc=kc.test(zc=wc.bind)&&zc,Ac=kc.test(Ac=dc.create)&&Ac,Bc=kc.test(Bc=Zb.isArray)&&Bc,Cc=c.isFinite,Dc=c.isNaN,Ec=kc.test(Ec=dc.keys)&&Ec,Fc=bc.max,Gc=bc.min,Hc=c.parseInt,Ic=bc.random,Jc=hc.slice,Kc=kc.test(c.attachEvent),Lc=zc&&!/\n|true/.test(zc+Kc),Mc={};Mc[J]=Zb,Mc[K]=$b,Mc[L]=_b,Mc[M]=ac,Mc[O]=dc,Mc[N]=cc,Mc[P]=ec,Mc[Q]=fc,ab.prototype=$.prototype;var Nc=$.support={};Nc.fastBind=zc&&!Lc,Nc.funcDecomp=!kc.test(c.a)&&F.test(n),Nc.funcNames="string"==typeof ac.name,$.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:C,variable:"",imports:{_:$}},Ac||(jb=function(a){if(tb(a)){j.prototype=a;var b=new j;j.prototype=null}return b||{}});var Oc=yc?function(a,b){T.value=b,yc(a,"__bindData__",T)}:j,Pc=Bc||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&wc.call(a)==J||!1},Qc=Ec?function(a){return tb(a)?Ec(a):[]}:Y,Rc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sc=rb(Rc),Tc=ec("("+Qc(Sc).join("|")+")","g"),Uc=ec("["+Qc(Rc).join("")+"]","g"),Vc=hb(function(a,b,c){qc.call(a,c)?a[c]++:a[c]=1}),Wc=hb(function(a,b,c){(qc.call(a,c)?a[c]:a[c]=[]).push(b)}),Xc=hb(function(a,b,c){a[c]=b});Lc&&Z&&"function"==typeof tc&&(Ub=function(a){if(!sb(a))throw new gc;return tc.apply(c,arguments)});var Yc=8==Hc(v+"08")?Hc:function(a,b){return Hc(vb(a)?a.replace(D,""):a,b||0)};return $.after=function(a,b){if(!sb(b))throw new gc;return function(){return 1>--a?b.apply(this,arguments):void 0}},$.assign=X,$.at=function(a){for(var b=arguments,c=-1,d=db(b,!0,!1,1),b=b[2]&&b[2][b[1]]===a?1:d.length,e=Zb(b);++c<b;)e[c]=a[d[c]];return e},$.bind=Sb,$.bindAll=function(a){for(var b=1<arguments.length?db(arguments,!0,!1,1):qb(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=ib(a[e],1,null,null,a)}return a},$.bindKey=function(a,b){return 2<arguments.length?ib(b,19,Jc.call(arguments,2),null,a):ib(b,3,null,null,a)},$.chain=function(a){return a=new ab(a),a.__chain__=!0,a},$.compact=function(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d},$.compose=function(){for(var a=arguments,b=a.length;b--;)if(!sb(a[b]))throw new gc;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}},$.countBy=Vc,$.createCallback=function(a,b,c){var d=typeof a;if(null==a||"function"==d)return cb(a,b,c);if("object"!=d)return function(b){return b[a]};var e=Qc(a),f=e[0],g=a[f];return 1!=e.length||g!==g||tb(g)?function(b){for(var c=e.length,d=!1;c--&&(d=eb(b[e[c]],a[e[c]],null,!0)););return d}:function(a){return a=a[f],g===a&&(0!==g||1/g==1/a)}},$.curry=function(a,b){return b="number"==typeof b?b:+b||a.length,ib(a,4,null,null,null,b)},$.debounce=Tb,$.defaults=V,$.defer=Ub,$.delay=function(a,b){if(!sb(a))throw new gc;var c=Jc.call(arguments,2);return uc(function(){a.apply(o,c)},b)},$.difference=Kb,$.filter=zb,$.flatten=function(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(c=(d=c)&&d[b]===a?null:b,b=!1),null!=c&&(a=Db(a,c,d)),db(a,b)},$.forEach=Bb,$.forEachRight=Cb,$.forIn=u,$.forInRight=function(a,b,c){var d=[];u(a,function(a,b){d.push(b,a)});var e=d.length;for(b=cb(b,c,3);e--&&!1!==b(d[e--],d[e],a););return a},$.forOwn=q,$.forOwnRight=pb,$.functions=qb,$.groupBy=Wc,$.indexBy=Xc,$.initial=function(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=$.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return m(a,0,Gc(Fc(0,e-d),e))},$.intersection=function(c){for(var d=arguments,e=d.length,g=-1,i=h(),j=-1,m=lb(),n=c?c.length:0,o=[],p=h();++g<e;){var q=d[g];i[g]=m===a&&(q?q.length:0)>=t&&f(g?d[g]:p)}a:for(;++j<n;){var r=i[0],q=c[j];if(0>(r?b(r,q):m(p,q))){for(g=e,(r||p).push(q);--g;)if(r=i[g],0>(r?b(r,q):m(d[g],q)))continue a;o.push(q)}}for(;e--;)(r=i[e])&&l(r);return k(i),k(p),o},$.invert=rb,$.invoke=function(a,b){var c=Jc.call(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=Zb("number"==typeof f?f:0);return Bb(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g},$.keys=Qc,$.map=Db,$.max=Eb,$.memoize=function(a,b){function c(){var d=c.cache,e=b?b.apply(this,arguments):s+arguments[0];return qc.call(d,e)?d[e]:d[e]=a.apply(this,arguments)}if(!sb(a))throw new gc;return c.cache={},c},$.merge=function(a){var b=arguments,c=2;if(!tb(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=cb(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var b=Jc.call(arguments,1,c),e=-1,f=h(),g=h();++e<c;)fb(a,b[e],d,f,g);return k(f),k(g),a},$.min=function(a,b,c){var e=1/0,f=e;if(!b&&Pc(a)){c=-1;for(var g=a.length;++c<g;){var h=a[c];f>h&&(f=h)}}else b=!b&&vb(a)?d:$.createCallback(b,c,3),Bb(a,function(a,c,d){c=b(a,c,d),e>c&&(e=c,f=a)});return f},$.omit=function(a,b,c){var d=lb(),e="function"==typeof b,f={};if(e)b=$.createCallback(b,c,3);else var g=db(arguments,!0,!1,1);return u(a,function(a,c,h){(e?!b(a,c,h):0>d(g,c))&&(f[c]=a)}),f},$.once=function(a){var b,c;if(!sb(a))throw new gc;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}},$.pairs=function(a){for(var b=-1,c=Qc(a),d=c.length,e=Zb(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e},$.partial=function(a){return ib(a,16,Jc.call(arguments,1))},$.partialRight=function(a){return ib(a,32,null,Jc.call(arguments,1))},$.pick=function(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=db(arguments,!0,!1,1),g=tb(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=$.createCallback(b,c,3),u(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d},$.pluck=Fb,$.pull=function(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(vc.call(a,f--,1),e--);return a},$.range=function(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);var d=-1;b=Fc(0,lc((b-a)/(c||1)));for(var e=Zb(b);++d<b;)e[d]=a,a+=c;return e},$.reject=function(a,b,c){return b=$.createCallback(b,c,3),zb(a,function(a,c,d){return!b(a,c,d)})},$.remove=function(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=$.createCallback(b,c,3);++d<e;)c=a[d],b(c,d,a)&&(f.push(c),vc.call(a,d--,1),e--);return f},$.rest=Nb,$.shuffle=Ib,$.sortBy=function(a,b,c){var d=-1,f=a?a.length:0,g=Zb("number"==typeof f?f:0);for(b=$.createCallback(b,c,3),Bb(a,function(a,c,e){var f=g[++d]=i();f.m=b(a,c,e),f.n=d,f.o=a}),f=g.length,g.sort(e);f--;)a=g[f],g[f]=a.o,l(a);return g},$.tap=function(a,b){return b(a),a},$.throttle=function(a,b,c){var d=!0,e=!0;if(!sb(a))throw new gc;return!1===c?d=!1:tb(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),S.leading=d,S.maxWait=b,S.trailing=e,Tb(a,b,S)},$.times=function(a,b,c){a=-1<(a=+a)?a:0;var d=-1,e=Zb(a);for(b=cb(b,c,1);++d<a;)e[d]=b(d);return e},$.toArray=function(a){return a&&"number"==typeof a.length?m(a):wb(a)},$.transform=function(a,b,c,d){var e=Pc(a);return b=cb(b,d,4),null==c&&(e?c=[]:(d=a&&a.constructor,c=jb(d&&d.prototype))),(e?Bb:q)(a,function(a,d,e){return b(c,a,d,e)}),c},$.union=function(){return gb(db(arguments,!0,!0))},$.uniq=Pb,$.values=wb,$.where=zb,$.without=function(a){return Kb(a,Jc.call(arguments,1))},$.wrap=function(a,b){if(!sb(b))throw new gc;return function(){var c=[a];return sc.apply(c,arguments),b.apply(this,c)}},$.zip=Qb,$.zipObject=Rb,$.collect=Db,$.drop=Nb,$.each=Bb,$.b=Cb,$.extend=X,$.methods=qb,$.object=Rb,$.select=zb,$.tail=Nb,$.unique=Pb,$.unzip=Qb,Wb($),$.clone=function(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),bb(a,b,"function"==typeof c&&cb(c,d,1))},$.cloneDeep=function(a,b,c){return bb(a,!0,"function"==typeof b&&cb(b,c,1))},$.contains=xb,$.escape=function(a){return null==a?"":fc(a).replace(Uc,kb)},$.every=yb,$.find=Ab,$.findIndex=function(a,b,c){var d=-1,e=a?a.length:0;for(b=$.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1},$.findKey=function(a,b,c){var d;return b=$.createCallback(b,c,3),q(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d},$.findLast=function(a,b,c){var d;return b=$.createCallback(b,c,3),Cb(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d},$.findLastIndex=function(a,b,c){var d=a?a.length:0;for(b=$.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1},$.findLastKey=function(a,b,c){var d;return b=$.createCallback(b,c,3),pb(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d},$.has=function(a,b){return a?qc.call(a,b):!1},$.identity=Vb,$.indexOf=Mb,$.isArguments=ob,$.isArray=Pc,$.isBoolean=function(a){return!0===a||!1===a||wc.call(a)==K},$.isDate=function(a){return a?"object"==typeof a&&wc.call(a)==L:!1},$.isElement=function(a){return a?1===a.nodeType:!1},$.isEmpty=function(a){var b=!0;if(!a)return b;var c=wc.call(a),d=a.length;return c==J||c==Q||c==I||c==O&&"number"==typeof d&&sb(a.splice)?!d:(q(a,function(){return b=!1}),b)},$.isEqual=function(a,b,c,d){return eb(a,b,"function"==typeof c&&cb(c,d,2))},$.isFinite=function(a){return Cc(a)&&!Dc(parseFloat(a))},$.isFunction=sb,$.isNaN=function(a){return ub(a)&&a!=+a},$.isNull=function(a){return null===a},$.isNumber=ub,$.isObject=tb,$.isPlainObject=p,$.isRegExp=function(a){return a?"object"==typeof a&&wc.call(a)==P:!1},$.isString=vb,$.isUndefined=function(a){return"undefined"==typeof a},$.lastIndexOf=function(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?Fc(0,d+c):Gc(c,d-1))+1);d--;)if(a[d]===b)return d;return-1},$.mixin=Wb,$.noConflict=function(){return c._=jc,this},$.parseInt=Yc,$.random=Xb,$.reduce=Gb,$.reduceRight=Hb,$.result=function(a,b){if(a){var c=a[b];return sb(c)?a[b]():c}},$.runInContext=n,$.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:Qc(a).length},$.some=Jb,$.sortedIndex=Ob,$.template=function(a,b,c){var d=$.templateSettings;a||(a=""),c=V({},c,d);var e,f=V({},c.imports,d.imports),d=Qc(f),f=wb(f),h=0,i=c.interpolate||E,j="__p+='",i=ec((c.escape||E).source+"|"+i.source+"|"+(i===C?z:E).source+"|"+(c.evaluate||E).source+"|$","g");a.replace(i,function(b,c,d,f,i,k){return d||(d=f),j+=a.slice(h,k).replace(G,g),c&&(j+="'+__e("+c+")+'"),i&&(e=!0,j+="';"+i+";__p+='"),d&&(j+="'+((__t=("+d+"))==null?'':__t)+'"),h=k+b.length,b}),j+="';\n",i=c=c.variable,i||(c="obj",j="with("+c+"){"+j+"}"),j=(e?j.replace(w,""):j).replace(x,"$1").replace(y,"$1;"),j="function("+c+"){"+(i?"":c+"||("+c+"={});")+"var __t,__p='',__e=_.escape"+(e?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+j+"return __p}";try{var k=ac(d,"return "+j).apply(o,f)}catch(l){throw l.source=j,l}return b?k(b):(k.source=j,k)},$.unescape=function(a){return null==a?"":fc(a).replace(Tc,nb)},$.uniqueId=function(a){var b=++r;return fc(null==a?"":a)+b},$.all=yb,$.any=Jb,$.detect=Ab,$.findWhere=Ab,$.foldl=Gb,$.foldr=Hb,$.include=xb,$.inject=Gb,q($,function(a,b){$.prototype[b]||($.prototype[b]=function(){var b=[this.__wrapped__],c=this.__chain__;return sc.apply(b,arguments),b=a.apply($,b),c?new ab(b,c):b})}),$.first=Lb,$.last=function(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=$.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[e-1]:o;return m(a,Fc(0,e-d))},$.sample=function(a,b,c){var d=a?a.length:0;return"number"!=typeof d&&(a=wb(a)),null==b||c?a?a[Xb(d-1)]:o:(a=Ib(a),a.length=Gc(Fc(0,b),a.length),a)},$.take=Lb,$.head=Lb,q($,function(a,b){var c="sample"!==b;$.prototype[b]||($.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new ab(f,e):f})}),$.VERSION="2.2.1",$.prototype.chain=function(){return this.__chain__=!0,this},$.prototype.toString=function(){return fc(this.__wrapped__)},$.prototype.value=Yb,$.prototype.valueOf=Yb,Bb(["join","pop","shift"],function(a){var b=hc[a];$.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new ab(c,a):c}}),Bb(["push","reverse","sort","unshift"],function(a){var b=hc[a];$.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Bb(["concat","slice","splice"],function(a){var b=hc[a];$.prototype[a]=function(){return new ab(b.apply(this.__wrapped__,arguments),this.__chain__)}}),$}var o,p=[],q=[],r=0,s=+new Date+"",t=75,u=40,v=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",w=/\b__p\+='';/g,x=/\b(__p\+=)''\+/g,y=/(__e\(.*?\)|\b__t\))\+'';/g,z=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/\w*$/,B=/^function[ \n\r\t]+\w/,C=/<%=([\s\S]+?)%>/g,D=RegExp("^["+v+"]*0+(?=.$)"),E=/($^)/,F=/\bthis\b/,G=/['\n\r\t\u2028\u2029\\]/g,H="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),I="[object Arguments]",J="[object Array]",K="[object Boolean]",L="[object Date]",M="[object Function]",N="[object Number]",O="[object Object]",P="[object RegExp]",Q="[object String]",R={};R[M]=!1,R[I]=R[J]=R[K]=R[L]=R[N]=R[O]=R[P]=R[Q]=!0;var S={leading:!1,maxWait:0,trailing:!1},T={configurable:!1,enumerable:!1,value:null,writable:!1},U={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},V={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},W=U[typeof window]&&window||this,X=U[typeof exports]&&exports&&!exports.nodeType&&exports,Y=U[typeof module]&&module&&!module.nodeType&&module,Z=Y&&Y.exports===X&&X,$=U[typeof global]&&global;!$||$.global!==$&&$.window!==$||(W=$);var _=n();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(W._=_,define(function(){return _})):X&&Y?Z?(Y.exports=_)._=_:X._=_:W._=_}).call(this),function(){function a(a){return"object"==typeof a?null===a?"null":a&&1===a.nodeType?"dom":a instanceof Array?"array":a instanceof Date?"date":"object":typeof a}function b(a){var b=[],d=c(a,b);return JSON.stringify({root:d,references:b})}function c(b,d,e){e=e||[];var h=a(b);if(-1!==k.indexOf(h)){var i=e.indexOf(b);if(-1===i){var j={};for(var m in b)b.hasOwnProperty(m)&&(j[m]=c(b[m],d,e));i=d.push({contents:j,value:g(b)})-1,e[i]=b}return l+i}return f(b)}function d(a){var b=JSON.parse(a);return e(b.root,b.references)}function e(a,b,c){if(c=c||[],j(a,l)){var d=parseInt(a.slice(l.length),10);if(!c.hasOwnProperty(d)){var f=b[d],g=h(f.value),k=f.contents;for(var m in k)g[m]=e(k[m],b,c);c[d]=g}return c[d]}return i(a)}function f(b){var c=a(b);return"undefined"===c?o:"function"===c?n+b.toString():"date"===c?p+b.getTime():1/0===b?m:"dom"===c?void 0:b}function g(b){var c=a(b);return"function"===c||"date"===c?f(b):"object"===c?q:"array"===c?r:b}function h(b){if("string"===a(b)){if(b===o)return void 0;if(j(b,n)){var c=b.slice(n.length),d=c.indexOf("(")+1,e=c.indexOf(")",d),f=c.slice(d,e),g=c.indexOf("{")+1,h=c.lastIndexOf("}")-1,i=c.slice(g,h);return new Function(f,i)}if(j(b,p)){var k=parseInt(b.slice(p.length),10);return new Date(k)}if(j(b,q))return{};if(j(b,r))return[];if(b===m)return 1/0}return b}function i(b){if("string"===a(b)){if(b===o)return void 0;if(j(b,n)){var c=b.slice(n.length),d=c.indexOf("(")+1,e=c.indexOf(")",d),f=c.slice(d,e),g=c.indexOf("{")+1,h=c.lastIndexOf("}")-1,i=c.slice(g,h);return new Function(f,i)}if(j(b,p)){var k=parseInt(b.slice(p.length),10);return new Date(k)}if(b===m)return 1/0}return b}function j(b,c){return"string"===a(b)&&b.slice(0,c.length)===c}var k="object array date function".split(" "),l="_CRYO_REF_",m="_CRYO_INFINITY_",n="_CRYO_FUNCTION_",o="_CRYO_UNDEFINED_",p="_CRYO_DATE_",q="_CRYO_OBJECT_",r="_CRYO_ARRAY_",s={stringify:b,parse:d},t=this;"undefined"!=typeof define&&define.amd?define("Cryo",[],function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:t.Cryo=s}(),function(){function a(b,c,d){var e=a.resolve(b);if(null==e){d=d||b,c=c||"root";var f=new Error('Failed to require "'+d+'" from "'+c+'"');throw f.path=d,f.parent=c,f.require=!0,f}var g=a.modules[e];if(!g._resolving&&!g.exports){var h={};h.exports={},h.client=h.component=!0,g._resolving=!0,g.call(this,h.exports,a.relative(e),h),delete g._resolving,g.exports=h.exports}return g.exports}a.modules={},a.aliases={},a.resolve=function(b){"/"===b.charAt(0)&&(b=b.slice(1));for(var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"],d=0;d<c.length;d++){var b=c[d];if(a.modules.hasOwnProperty(b))return b;if(a.aliases.hasOwnProperty(b))return a.aliases[b]}},a.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},a.register=function(b,c){a.modules[b]=c},a.alias=function(b,c){if(!a.modules.hasOwnProperty(b))throw new Error('Failed to alias "'+b+'", it does not exist');a.aliases[c]=b},a.relative=function(b){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function d(c){var e=d.resolve(c);return a(e,b,c)}var e=a.normalize(b,"..");return d.resolve=function(d){var f=d.charAt(0);if("/"==f)return d.slice(1);if("."==f)return a.normalize(e,d);var g=b.split("/"),h=c(g,"deps")+1;return h||(h=0),d=g.slice(0,h+1).join("/")+"/deps/"+d},d.exists=function(b){return a.modules.hasOwnProperty(d.resolve(b))},d},function(){a.register("pomme.js/src/channel.js",function(a,b,c){var d,e,f,g,h,i,j,k,l,m=function(a,b){return function(){return a.apply(b,arguments)}},n=[].slice;i=b("./iframe"),j=b("./pickle"),h=b("./helpers"),l=b("./router"),d=l.ChanID,f=l.FnID,k=l.router,g=b("./constants"),e=function(){function a(a){this.onMessage=m(this.onMessage,this),this.onReady=m(this.onReady,this);var b,c,e,f=this;if(null==a&&(a={}),c=a.target,b=a.scope,e=a.template,this.id=(new d).id,b&&(this.scope=b),!_.isString(this.scope))throw"only strings accepted for a scope";switch(!1){case!_.isWindow(c):this.window=c;break;case!c:this.window=(this.iframe=new i({id:this.id,target:c,scope:this.scope,template:e})).el;break;default:this.window=window.parent,this.child=!0}if(window===this.window)throw"child and parent windows cannot be one and the same";this.handlers={},this.pending=[],k.register(this.window,this.scope,this.onMessage),this.on(g.ready,this.onReady),this.on("eval",function(a){return eval.call(f,a)}),h.nextTick(function(){return f.postMessage({method:f.scopeMethod(g.ready),params:["ping"]},!0)})}return a.prototype.ready=!1,a.prototype.scope="testScope",a.prototype.onReady=function(a){var b;if(this.ready)return this.error("received ready message while in ready state");for(this.id+=[":B",":A"]["ping"===+a],this.unbind(g.ready),this.ready=!0,"ping"===a&&this.trigger(g.ready,"pong"),b=[];this.pending.length;)b.push(this.postMessage(this.pending.pop()));return b},a.prototype.trigger=function(){var a,b,c,d,e,g=this;c=arguments[0],d=2<=arguments.length?n.call(arguments,1):[];try{j.stringify(d)}catch(h){return b=h,this.error("cannot convert circular structure")}return e=(a=function(b){var c;if(_.isFunction(b))return c=(new f).id,g.on(c,b),c;switch(!1){case!_.isArray(b):return _.collect(b,a);case!_.isObject(b):return _.transform(b,function(b,c,d){return b[d]=a(c)});default:return b}})(d),this.postMessage({method:this.scopeMethod(c),params:e}),this
},a.prototype.postMessage=function(a,b){return null==b&&(b=!1),this.disposed?void 0:b||this.ready?(a[g.postmessage]=!0,this.window.postMessage(j.stringify(a),"*")):this.pending.push(a)},a.prototype.onMessage=function(a,b){var c,d,e,f=this;if(b=(e=function(a){switch(!1){case!_.isArray(a):return _.collect(a,e);case!_.isObject(a):return _.transform(a,function(a,b,c){return a[c]=e(b)});case!(_.isString(a)&&a.match(g["function"])):return function(){return f.trigger.apply(f,[a].concat(_.toArray(arguments)))};default:return a}})(b),_.isFunction(d=this.handlers[a])){_.isArray(b)||(b=[b]);try{return d.apply(null,b)}catch(h){return c=h,this.error(c)}}},a.prototype.scopeMethod=function(a){return[this.scope,a].join("::")},a.prototype.on=function(a,b){return this.disposed?void 0:a&&_.isString(a)?b&&_.isFunction(b)?this.handlers[a]?this.error("`"+a+"` is already bound"):(this.handlers[a]=b,this):this.error("callback missing"):this.error("`method` must be string")},a.prototype.unbind=function(a){return a in this.handlers?delete this.handlers[a]:this.error("`"+a+"` is not bound")},a.prototype.error=function(a){var b,c;switch(b=null,!1){case!_.isString(a):b=a;break;case!_.isArray(a):b=a[1];break;case!(_.isObject(a)&&_.isString(a.message)):b=a.message}if(!b)try{b=j.stringify(a)}catch(d){b=a.toString()}return this.child?_.isFunction(this.handlers.error)?this.handlers.error(b):this.trigger("error",b):(null==(c=this.handlers).error&&(c.error=function(){}),this.handlers.error(b))},a.prototype.dispose=function(){var a,b,c,d;if(!this.disposed){this.disposed=!0,null!=(c=this.iframe)&&c.dispose(),d=this.handlers;for(a in d)b=d[a],"error"!==a&&this.unbind(a);return"function"==typeof Object.freeze&&Object.freeze(this.handlers),"function"==typeof Object.freeze?Object.freeze(this):void 0}},a}(),c.exports=e,_.mixin(function(){return{isWindow:function(a){switch(!1){case!!_.isObject(a):return!1;default:return a.window===a}}}}())}),a.register("pomme.js/src/constants.js",function(a,b,c){c.exports={postmessage:"__pomme__","function":"__function::",iframe:"__pomme::",ready:"__ready"}}),a.register("pomme.js/src/helpers.js",function(a,b,c){var d;d=window,c.exports={nextTick:function(){var a,b;switch(!1){case!("setImmediate"in d&&_.isFunction(d.setImmediate)):return function(a){return setImmediate(a)};case!("undefined"==typeof d||"ActiveXObject"in d||!1 in d):return function(a){return setTimeout(a)};default:return a=[],b=function(){return d.postMessage("tick","*")},d.addEventListener("message",function(){var c,d,e;for(e=[];a.length;){d=a.shift();try{e.push(d())}catch(f){throw c=f,b(),c}}return e},!0),function(c){return a.length||b(),a.push(c)}}}()}}),a.register("pomme.js/src/iframe.js",function(a,b,c){var d,e;d=b("./constants"),e=function(){function a(a){var b,c,e,f,g,h;c=a.id,g=a.target,f=a.scope,h=a.template;try{document.querySelector(g)}catch(i){return this.error("target selector not found")}return e=d.iframe+c||+new Date,this.node=document.createElement("iframe"),this.node.name=e,document.querySelector(g).appendChild(this.node),_.isFunction(h)?_.isString(b=h({scope:f}))?(this.node.contentWindow.document.open(),this.node.contentWindow.document.write(b),this.node.contentWindow.document.close(),this.el=window.frames[e],void 0):this.error("template did not return a string"):this.error("template is not a function")}return a.prototype.error=function(a){throw this.dispose(),a},a.prototype.dispose=function(){if(!this.disposed){if(this.disposed=!0,this.node)switch(!1){case!_.isFunction(this.node.remove):this.node.remove();break;case!_.isFunction(this.node.removeNode):this.node.removeNode(!0);break;case!this.node.parentNode:this.node.parentNode.removeChild(this.node)}return"function"==typeof Object.freeze?Object.freeze(this):void 0}},a}(),c.exports=e}),a.register("pomme.js/src/index.js",function(a,b,c){c.exports=b("./channel")}),a.register("pomme.js/src/pickle.js",function(a,b,c){var d;d=this,c.exports=d.Cryo||d.JSON}),a.register("pomme.js/src/router.js",function(a,b,c){var d,e,f,g,h,i,j=function(a,b){return function(){return a.apply(b,arguments)}},k=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};if(g=b("./constants"),h=b("./pickle"),f=function(){function a(){this.route=j(this.route,this)}return a.prototype.table={},a.prototype.transactions={},a.prototype.register=function(a,b,c){var d,e,f,g,h;for(null==b&&(b=""),null==(e=this.table)[b]&&(e[b]=[]),h=this.table[b],f=0,g=h.length;g>f;f++)if(d=h[f],d.win===a)throw"a channel is already bound to the same window under `"+b+"`";return this.table[b].push({win:a,handler:c})},a.prototype.route=function(a){var b,c,d,e,f,i,j,l,m;b=null;try{b=h.parse(a.data)}catch(n){}if(_.isObject(b)&&(j=g.postmessage,k.call(_.keys(b),j)>=0)&&(e=null,c=null,_.isString(b.method)&&(l=b.method.match(/^([^:]+)::(.+)$/).slice(1,3),e=l[0],c=l[1],e&&c||(c=b.method)),c&&null!=this.table[e]))for(m=this.table[e],f=0,i=m.length;i>f;f++)if(d=m[f],d.win===a.source)return d.handler(c,b.params)},a}(),d=function(){function a(){this.id=a.prototype._id++}return a.prototype._id=0,a}(),e=function(){function a(){this.id=g["function"]+a.prototype._id++}return a.prototype._id=0,a}(),!("postMessage"in window))throw"cannot run in this browser, no postMessage";switch(i=new f,!1){case!("addEventListener"in window):window.addEventListener("message",i.route,!1);break;case!("attachEvent"in window):window.attachEvent("onmessage",i.route)}c.exports={ChanID:d,FnID:e,router:i}})}(),this.require=this.require?this.require:a,a.alias("pomme.js/src/index.js","pomme.js/index.js")}();